<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>워크플로우 - 스마트 채용 솔루션</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/main.css">
    <style>
        :root {
            --primary: #1488C4;
            --primary-light: #1679b8;
            --primary-lighter: #1f6ba0;
            --gray-50: #fafafa;
            --gray-100: #f5f5f5;
            --gray-200: #e5e5e5;
            --gray-300: #d4d4d4;
            --gray-400: #a3a3a3;
            --gray-500: #737373;
            --gray-600: #525252;
            --gray-700: #404040;
            --gray-800: #262626;
            --gray-900: #171717;
            
            --white: #ffffff;
            --black: #000000;
            
            --accent: #f3f4f6;
            --accent-hover: #e5e7eb;
            
            --border-light: #f1f1f1;
            --border: #e5e5e5;
            --border-dark: #d4d4d4;
            
            --radius-sm: 4px;
            --radius: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 24px;
            
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            
            --transition: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="light"] {
            --bg-primary: var(--white);
            --bg-secondary: var(--gray-50);
            --bg-tertiary: var(--gray-100);
            --bg-card: var(--white);
            --bg-overlay: rgba(255, 255, 255, 0.8);
            --bg-hover: var(--gray-50);
            
            --text-primary: var(--gray-900);
            --text-secondary: var(--gray-600);
            --text-tertiary: var(--gray-400);
            --text-inverse: var(--white);
            
            --border-color: var(--border);
            --border-hover: var(--border-dark);
        }

        [data-theme="dark"] {
            --bg-primary: #1a1b1e;
            --bg-secondary: #141517; 
            --bg-tertiary: #2c2e33;
            --bg-card: #1f2024;
            --bg-overlay: rgba(0, 0, 0, 0.85);
            --bg-hover: #2a2b2f;
            
            --text-primary: #e9ecef;
            --text-secondary: #adb5bd;
            --text-tertiary: #868e96;
            --text-inverse: #1a1b1e;
            
            --border-color: #2c2e33;
            --border-hover: #3b3e44;

            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.4);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.6);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.7);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
        }

        body {
            font-family: 'Noto Sans', 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.5;
            font-size: 14px;
            transition: background var(--transition), color var(--transition);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* 스크롤바 */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--border-hover);
        }

        /* 애니메이션 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideRight {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: var(--bg-primary);
        }

        /* 헤더 */
        .header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            padding: 0 2rem;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(8px);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 3rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--text-primary);
            transition: transform var(--transition);
        }

        .logo:hover {
            transform: scale(1.02);
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: var(--primary);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 700;
            font-size: 16px;
        }

        .logo-text {
            font-size: 20px;
            font-weight: 700;
            letter-spacing: -0.025em;
            color: var(--text-primary);
        }

        .header-nav {
            display: flex;
            gap: 8px;
        }

        .nav-item {
            padding: 8px 16px;
            border-radius: var(--radius);
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: all var(--transition);
            position: relative;
            cursor: pointer;
        }

        .nav-item:hover {
            color: var(--text-primary);
            background: var(--bg-hover);
        }

        .nav-item.active {
            color: var(--primary);
            background: var(--bg-hover);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .notification-btn {
            position: relative;
            width: 40px;
            height: 40px;
            border: none;
            background: var(--bg-hover);
            border-radius: var(--radius);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition);
            color: var(--text-secondary);
            font-size: 16px;
        }

        .notification-btn:hover {
            background: var(--accent-hover);
            color: var(--text-primary);
        }

        .notification-btn::after {
            content: '';
            position: absolute;
            top: 8px;
            right: 8px;
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            border: 2px solid var(--bg-card);
        }

        /* 테마 토글 */
        .theme-toggle {
            width: 40px;
            height: 40px;
            background: var(--bg-hover);
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 16px;
        }

        .theme-toggle:hover {
            background: var(--accent-hover);
            color: var(--text-primary);
        }

        /* 프로필 */
        .profile-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 12px;
            background: var(--bg-hover);
            border: none;
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition);
            text-decoration: none;
            color: var(--text-primary);
        }

        .profile-btn:hover {
            background: var(--accent-hover);
        }

        .profile-avatar {
            width: 32px;
            height: 32px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 600;
            font-size: 14px;
        }

        .profile-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .profile-name {
            font-weight: 600;
            font-size: 14px;
            line-height: 1.2;
        }

        .profile-role {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.2;
        }

        /* 메인 컨테이너 */
        .main-container {
            flex: 1;
            display: flex;
            background: var(--bg-secondary);
        }

        /* 사이드바 */
        .sidebar {
            width: 280px;
            background: var(--bg-card);
            border-right: 1px solid var(--border-color);
            padding: 24px;
            height: calc(100vh - 64px);
            overflow-y: auto;
            position: sticky;
            top: 64px;
            animation: slideRight 0.3s ease;
        }

        .sidebar-section {
            margin-bottom: 32px;
        }

        .sidebar-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-tertiary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 16px;
            padding-left: 12px;
        }

        .sidebar-menu {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: var(--radius);
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: all var(--transition);
            position: relative;
            cursor: pointer;
        }

        .sidebar-link:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .sidebar-link.active {
            background: var(--bg-tertiary);
            color: var(--primary);
            font-weight: 600;
        }

        .sidebar-link.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 20px;
            background: var(--primary);
            border-radius: 0 2px 2px 0;
        }

        .sidebar-icon {
            font-size: 16px;
            width: 16px;
            text-align: center;
        }

        /* 메인 콘텐츠 */
        .content-area {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        .page-header {
            margin-bottom: 32px;
            background: var(--bg-card);
            padding: 32px;
            border-radius: var(--radius-2xl);
            border: 1px solid var(--border-color);
        }

        .page-title {
            font-size: 32px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 8px;
            letter-spacing: -0.025em;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 16px;
            line-height: 1.6;
        }

        /* 카드 */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 24px;
            transition: all var(--transition);
        }

        .card:hover {
            border-color: var(--border-hover);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .card-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .card-actions {
            display: flex;
            gap: 8px;
        }

        /* 버튼 */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition);
            background: var(--bg-card);
            color: var(--text-secondary);
        }

        .btn:hover {
            border-color: var(--border-hover);
            color: var(--text-primary);
            background: var(--bg-hover);
        }

        .btn-primary {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
            font-weight: 600;
        }

        .btn-primary:hover {
            background: var(--primary-light);
            border-color: var(--primary-light);
            color: var(--white);
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 13px;
        }

        .btn-lg {
            padding: 12px 20px;
            font-size: 15px;
        }

        /* 그리드 */
        .grid {
            display: grid;
            gap: 24px;
        }

        .grid-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-4 { grid-template-columns: repeat(4, 1fr); }

        /* 메트릭 카드 */
        .metric-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 24px;
            text-align: center;
            transition: all var(--transition-slow);
            position: relative;
        }

        .metric-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .metric-icon {
            width: 48px;
            height: 48px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 20px;
        }

        .metric-number {
            font-size: 36px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 8px;
            line-height: 1;
        }

        .metric-label {
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .metric-change {
            font-size: 12px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: var(--radius-sm);
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .metric-change.positive {
            color: var(--primary);
            background: var(--bg-tertiary);
        }

        .metric-change.negative {
            color: var(--text-secondary);
            background: var(--bg-tertiary);
        }

        /* 프로필 메뉴 스타일 */
        .profile-menu {
            position: absolute;
            top: 70px;
            right: 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            width: 240px;
            box-shadow: var(--shadow-lg);
            z-index: 100;
            animation: slideUp 0.2s ease;
        }

        .profile-menu.hidden {
            display: none;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            width: 100%;
            border: none;
            background: none;
            font-size: 14px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all var(--transition);
        }

        .menu-item:hover {
            background: var(--bg-hover);
        }

        .menu-icon {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        /* 테이블 */
        .table-container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            overflow: hidden;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th {
            background: var(--bg-tertiary);
            padding: 16px 20px;
            text-align: left;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-color);
        }

        .table td {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
            transition: all var(--transition);
        }

        .table tbody tr:hover {
            background: var(--bg-hover);
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        /* 상태 배지 */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: var(--radius);
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .status-badge::before {
            content: '';
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        .status-new, .status-신규 {
            color: var(--primary);
            background: var(--bg-tertiary);
        }
        .status-new::before, .status-신규::before { background: var(--primary); }

        .status-review, .status-검토중, .status-서류통과 {
            color: #f59e0b;
            background: var(--bg-tertiary);
        }
        .status-review::before, .status-검토중::before, .status-서류통과::before { background: #f59e0b; }

        .status-interview, .status-면접대기 {
            color: #8b5cf6;
            background: var(--bg-tertiary);
        }
        .status-interview::before, .status-면접대기::before { background: #8b5cf6; }

        .status-offer, .status-채용완료, .status-최종합격 {
            color: #10b981;
            background: var(--bg-tertiary);
        }
        .status-offer::before, .status-채용완료::before, .status-최종합격::before { background: #10b981; }

        .status-rejected, .status-불합격 {
            color: #ef4444;
            background: var(--bg-tertiary);
        }
        .status-rejected::before, .status-불합격::before { background: #ef4444; }

        /* 폼 */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 14px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 14px;
            background: var(--bg-card);
            color: var(--text-primary);
            transition: all var(--transition);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        /* 검색 바 */
        .search-filter-bar {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            position: relative;
            min-width: 300px;
        }

        .search-input input {
            padding-left: 40px;
        }

        .search-input::before {
            content: '🔍';
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
            font-size: 14px;
        }

        /* 진행률 바 */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        /* 사용자 아바타 */
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-right: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all var(--transition);
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
        }

        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border-color: var(--border-hover);
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.2;
            font-size: 14px;
        }

        .user-email {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.2;
        }

        /* 스킬 태그 */
        .skill-tag {
            display: inline-flex;
            align-items: center;
            padding: 4px 8px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            font-size: 11px;
            font-weight: 500;
            color: var(--text-secondary);
            margin: 2px;
            transition: all var(--transition);
        }

        .skill-tag:hover {
            background: var(--bg-hover);
            border-color: var(--border-hover);
            color: var(--text-primary);
        }

        /* 퀵 액션 */
        .quick-actions {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
        }

        .quick-action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 16px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            text-decoration: none;
            color: var(--text-secondary);
            transition: all var(--transition);
            min-width: 80px;
            cursor: pointer;
        }

        .quick-action-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
            border-color: var(--border-hover);
        }

        .quick-action-icon {
            font-size: 20px;
        }

        .quick-action-text {
            font-size: 12px;
            font-weight: 600;
            text-align: center;
        }

        /* 페이지 전환 */
        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
            animation: slideUp 0.3s ease;
        }

        /* 로그인 모달 스타일 */
        .login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .login-modal.hidden {
            display: none;
        }

        .login-modal:not(.hidden) {
            display: flex;
        }

        /* 공통 모달 */
        .modal {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            z-index: 2000;
            padding: 16px;
        }

        .modal.hidden {
            display: none;
        }

        .modal:not(.hidden) {
            display: flex;
        }

        .modal .modal-content {
            width: 100%;
            max-width: 640px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            padding: 20px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .login-container {
            background: var(--bg-card);
            padding: 32px;
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 400px;
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.3s ease;
        }

        .hidden {
            display: none;
        }

        /* 선택된 지원자 액션 바 */
        .selected-candidates-bar {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 16px 24px;
            margin-bottom: 16px;
            animation: slideUp 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .selected-candidates-bar.hidden {
            display: none;
        }

        /* 페이지네이션 */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 24px;
        }

        .pagination-btn {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            background: var(--bg-card);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition);
            font-size: 14px;
            min-width: 40px;
            text-align: center;
        }

        .pagination-btn:hover:not(:disabled) {
            background: var(--bg-hover);
            border-color: var(--border-hover);
        }

        .pagination-btn.active {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* 지원자 상세 모달 */
        .candidate-detail-modal {
            max-width: 800px;
        }

        .candidate-detail-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 24px;
        }

        .candidate-tab {
            padding: 12px 24px;
            border: none;
            background: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition);
            border-bottom: 2px solid transparent;
            font-size: 14px;
            font-weight: 500;
        }

        .candidate-tab:hover {
            color: var(--text-primary);
        }

        .candidate-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* 평가 점수 입력 */
        .score-input {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .score-slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: var(--bg-tertiary);
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        .score-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            border: 2px solid var(--white);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .score-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            border: 2px solid var(--white);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .score-display {
            min-width: 50px;
            font-weight: 600;
            color: var(--primary);
            text-align: right;
        }

        /* 토스트 알림 */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            z-index: 1001;
            animation: slideUp 0.3s ease;
            font-size: 14px;
            font-weight: 500;
            min-width: 200px;
        }

        .toast.success {
            border-color: #10b981;
            color: #10b981;
            background: #f0fdf4;
        }

        .toast.warning {
            border-color: #f59e0b;
            color: #f59e0b;
            background: #fffbeb;
        }

        .toast.error {
            border-color: #ef4444;
            color: #ef4444;
            background: #fef2f2;
        }

        /* 로딩 스피너 */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* 채용공고 카드 */
        .job-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 24px;
            transition: all var(--transition);
            cursor: pointer;
        }

        .job-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .job-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .job-department {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 16px;
        }

        .job-info {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            font-size: 13px;
        }

        .job-info-item {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--text-secondary);
        }

        /* 면접 일정 카드 */
        .interview-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: 20px;
            margin-bottom: 16px;
            transition: all var(--transition);
        }

        .interview-card:hover {
            border-color: var(--border-hover);
        }

        .interview-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .interview-candidate {
            font-weight: 600;
            font-size: 16px;
            color: var(--text-primary);
        }

        .interview-position {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .interview-time {
            text-align: right;
            font-size: 13px;
        }

        .interview-date {
            font-weight: 600;
            color: var(--text-primary);
        }

        .interview-duration {
            color: var(--text-secondary);
        }

        /* 통계 차트 영역 */
        .chart-placeholder {
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            background: var(--bg-tertiary);
            border-radius: var(--radius);
            font-size: 14px;
        }

        /* 반응형 */
        @media (max-width: 1200px) {
            .grid-4 { grid-template-columns: repeat(2, 1fr); }
            .content-area { padding: 24px; }
        }

        @media (max-width: 768px) {
            .header {
                padding: 0 16px;
            }
            
            .header-nav {
                display: none;
            }
            
            .logo-text {
                display: none;
            }
            
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                top: 0;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                padding: 16px;
            }
            
            .sidebar-section {
                margin-bottom: 16px;
            }
            
            .sidebar-menu {
                flex-direction: row;
                gap: 8px;
                overflow-x: auto;
                padding-bottom: 8px;
            }
            
            .sidebar-link {
                white-space: nowrap;
                min-width: fit-content;
            }
            
            .content-area {
                padding: 16px;
            }
            
            .page-header {
                padding: 24px;
                margin-bottom: 24px;
            }
            
            .page-title {
                font-size: 24px;
            }
            
            .grid-2, .grid-3, .grid-4 { 
                grid-template-columns: 1fr; 
            }
            
            .search-filter-bar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-input {
                min-width: unset;
            }
            
            .quick-actions {
                flex-wrap: wrap;
            }

            .table-container {
                overflow-x: auto;
            }

            .selected-candidates-bar {
                flex-direction: column;
                gap: 12px;
                align-items: stretch;
            }
        }

        @media (max-width: 480px) {
            .header {
                height: 56px;
            }
            
            .logo-icon {
                width: 28px;
                height: 28px;
                font-size: 14px;
            }
            
            .metric-card {
                padding: 16px;
            }
            
            .metric-number {
                font-size: 28px;
            }
            
            .card {
                padding: 16px;
            }
            
            .table th, .table td {
                padding: 12px 8px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body data-theme="light">
    

    <!-- 지원자 상세 정보 모달 -->
    <div id="candidateDetailModal" class="login-modal hidden">
        <div class="login-container candidate-detail-modal">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="margin: 0; font-size: 20px;" id="candidateModalTitle">지원자 상세 정보</h2>
                <button class="btn" onclick="closeCandidateDetailModal()" style="padding: 6px;">✕</button>
            </div>

            <div class="candidate-detail-tabs">
                <button class="candidate-tab active" onclick="showTab('basic')">기본 정보</button>
                <button class="candidate-tab" onclick="showTab('resume')">이력서</button>
                <button class="candidate-tab" onclick="showTab('evaluation')">평가</button>
                <button class="candidate-tab" onclick="showTab('history')">진행 이력</button>
            </div>

            <!-- 기본 정보 탭 -->
            <div id="basicTab" class="tab-content active">
                <div class="grid grid-2" style="gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">이름</label>
                        <input type="text" class="form-input" id="candidateName" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">이메일</label>
                        <input type="email" class="form-input" id="candidateEmail" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">전화번호</label>
                        <input type="tel" class="form-input" id="candidatePhone" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">지원 포지션</label>
                        <input type="text" class="form-input" id="candidatePosition" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">경력</label>
                        <input type="text" class="form-input" id="candidateExperience" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">현재 상태</label>
                        <select class="form-select" id="candidateStatus">
                            <option value="신규">신규</option>
                            <option value="서류통과">서류통과</option>
                            <option value="면접대기">면접대기</option>
                            <option value="최종합격">최종합격</option>
                            <option value="불합격">불합격</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">보유 스킬</label>
                    <div id="candidateSkills" style="display: flex; flex-wrap: wrap; gap: 4px;">
                        <!-- 스킬 태그들이 여기에 표시됩니다 -->
                    </div>
                </div>
            </div>

            <!-- 이력서 탭 -->
            <div id="resumeTab" class="tab-content">
                <div class="form-group">
                    <label class="form-label">자기소개서</label>
                    <textarea class="form-textarea" id="candidateCoverLetter" rows="6" readonly></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">경력 사항</label>
                    <textarea class="form-textarea" id="candidateCareerHistory" rows="8" readonly></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">학력</label>
                    <input type="text" class="form-input" id="candidateEducation" readonly>
                </div>
            </div>

            <!-- 평가 탭 -->
            <div id="evaluationTab" class="tab-content">
                <div class="form-group">
                    <label class="form-label">종합 평가 점수</label>
                    <div class="score-input">
                        <input type="range" class="score-slider" id="overallScore" min="0" max="100" value="0" oninput="updateScoreDisplay('overall', this.value)">
                        <span class="score-display" id="overallScoreDisplay">0점</span>
                    </div>
                </div>
                <div class="grid grid-2" style="gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">기술 역량</label>
                        <div class="score-input">
                            <input type="range" class="score-slider" id="technicalScore" min="0" max="100" value="0" oninput="updateScoreDisplay('technical', this.value)">
                            <span class="score-display" id="technicalScoreDisplay">0점</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">의사소통</label>
                        <div class="score-input">
                            <input type="range" class="score-slider" id="communicationScore" min="0" max="100" value="0" oninput="updateScoreDisplay('communication', this.value)">
                            <span class="score-display" id="communicationScoreDisplay">0점</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">문제해결 능력</label>
                        <div class="score-input">
                            <input type="range" class="score-slider" id="problemSolvingScore" min="0" max="100" value="0" oninput="updateScoreDisplay('problemSolving', this.value)">
                            <span class="score-display" id="problemSolvingScoreDisplay">0점</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">팀워크</label>
                        <div class="score-input">
                            <input type="range" class="score-slider" id="teamworkScore" min="0" max="100" value="0" oninput="updateScoreDisplay('teamwork', this.value)">
                            <span class="score-display" id="teamworkScoreDisplay">0점</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">평가 메모</label>
                    <textarea class="form-textarea" id="evaluationNotes" rows="4" placeholder="평가 내용을 입력하세요..."></textarea>
                </div>
            </div>

            <!-- 진행 이력 탭 -->
            <div id="historyTab" class="tab-content">
                <div id="candidateHistory">
                    <!-- 진행 이력이 여기에 표시됩니다 -->
                </div>
            </div>

            <div style="display: flex; gap: 8px; margin-top: 24px;">
                <button class="btn" style="flex: 1;" onclick="closeCandidateDetailModal()">닫기</button>
                <button class="btn btn-primary" style="flex: 1;" onclick="saveCandidateData()">저장</button>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- 헤더 -->
        <header class="header">
            <div class="header-left">
                <a href="#dashboard" class="logo" data-page="dashboard">
                    <div class="logo-icon">W</div>
                    <div class="logo-text">워크플로우</div>
                </a>
                
                <nav class="header-nav">
                    <a href="#dashboard" class="nav-item active" data-page="dashboard">대시보드</a>
                    <a href="#candidates" class="nav-item" data-page="candidates">지원자 관리</a>
                    <a href="#jobs" class="nav-item" data-page="jobs">채용 공고</a>
                    <a href="#interviews" class="nav-item" data-page="interviews">면접 관리</a>
                    <a href="#reports" class="nav-item" data-page="reports">리포트</a>
                    <a href="#analytics" class="nav-item" data-page="analytics">성과 지표</a>
                    <a href="#training" class="nav-item" data-page="training">교육 자료</a>
                </nav>
            </div>
            
            <div class="header-right">
                <button class="notification-btn" title="알림">
                    🔔
                </button>
                
                <button class="theme-toggle" id="themeToggle">
                    ☀️
                </button>
                
                <button class="profile-btn" onclick="toggleProfileMenu(event)">
                    <div class="profile-avatar">김</div>
                    <div class="profile-info">
                        <div class="profile-name">김담당자</div>
                        <div class="profile-role">HR 매니저</div>
                    </div>
                </button>
                
                <!-- 프로필 메뉴 -->
                <div id="profileMenu" class="profile-menu hidden">
                    <div style="padding: 16px; border-bottom: 1px solid var(--border-color);">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <div class="profile-avatar" style="width: 48px; height: 48px; font-size: 20px;">김</div>
                            <div>
                                <div style="font-weight: 600; font-size: 16px;">김담당자</div>
                                <div style="color: var(--text-secondary); font-size: 13px;">HR 매니저</div>
                            </div>
                        </div>
                        <div style="font-size: 13px; color: var(--text-secondary);">test@example.com</div>
                    </div>
                    <div style="padding: 8px;">
                        <button class="menu-item">
                            <span class="menu-icon">👤</span>
                            내 프로필 설정
                        </button>
                        <button class="menu-item">
                            <span class="menu-icon">⚙️</span>
                            시스템 설정
                        </button>
                        <button class="menu-item">
                            <span class="menu-icon">🔔</span>
                            알림 센터
                        </button>
                        <button class="menu-item" style="color: var(--text-secondary);" onclick="logout()">
                            <span class="menu-icon">🚪</span>
                            로그아웃
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <div class="main-container">
            <!-- 사이드바 -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <div class="sidebar-title">채용 관리</div>
                    <ul class="sidebar-menu">
                        <li><a href="#dashboard" class="sidebar-link active" data-page="dashboard">
                            <span class="sidebar-icon">📊</span>
                            대시보드
                        </a></li>
                        <li><a href="#candidates" class="sidebar-link" data-page="candidates">
                            <span class="sidebar-icon">👥</span>
                            지원자 관리
                        </a></li>
                        <li><a href="#jobs" class="sidebar-link" data-page="jobs">
                            <span class="sidebar-icon">💼</span>
                            채용공고
                        </a></li>
                        <li><a href="#interviews" class="sidebar-link" data-page="interviews">
                            <span class="sidebar-icon">🗓️</span>
                            면접 일정
                        </a></li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-title">분석 및 보고서</div>
                    <ul class="sidebar-menu">
                        <li><a href="#reports" class="sidebar-link" data-page="reports">
                            <span class="sidebar-icon">📈</span>
                            리포트
                        </a></li>
                        <li><a href="#analytics" class="sidebar-link" data-page="analytics">
                            <span class="sidebar-icon">🔍</span>
                            성과 지표
                        </a></li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-title">면접관 교육</div>
                    <ul class="sidebar-menu">
                        <li><a href="#training" class="sidebar-link" data-page="training">
                            <span class="sidebar-icon">📚</span>
                            교육 자료
                        </a></li>
                    </ul>
                </div>
            </aside>

            <!-- 메인 콘텐츠 -->
            <main class="content-area">
                <!-- 대시보드 페이지 -->
                <div class="page-content active" id="dashboard">
                    <div class="page-header">
                        <h1 class="page-title">채용 대시보드</h1>
                        <p class="page-subtitle">전체 채용 현황을 한눈에 확인하고 효율적으로 관리하세요.</p>
                    </div>

                    <!-- 퀵 액션 -->
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="openNewCandidateModal()">
                            <div class="quick-action-icon">➕</div>
                            <div class="quick-action-text">새 지원자</div>
                        </button>
                        <button class="quick-action-btn" onclick="triggerCSVUpload()">
                            <div class="quick-action-icon">📂</div>
                            <div class="quick-action-text">일괄 등록</div>
                        </button>
                        <button class="quick-action-btn" data-page="reports">
                            <div class="quick-action-icon">📊</div>
                            <div class="quick-action-text">보고서</div>
                        </button>
                        <button class="quick-action-btn">
                            <div class="quick-action-icon">⚙️</div>
                            <div class="quick-action-text">설정</div>
                        </button>
                    </div>

                    <!-- 메트릭 카드 -->
                    <div class="grid grid-4" style="margin-bottom: 32px;">
                        <div class="metric-card">
                            <div class="metric-icon">👥</div>
                            <div class="metric-number" id="totalCandidatesCount">0</div>
                            <div class="metric-label">총 지원자 수</div>
                            <div class="metric-change positive">+12.5%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">⏳</div>
                            <div class="metric-number" id="activeCandidatesCount">0</div>
                            <div class="metric-label">진행 중인 지원자</div>
                            <div class="metric-change positive">+8.3%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">📅</div>
                            <div class="metric-number" id="todayInterviewsCount">0</div>
                            <div class="metric-label">오늘 면접 일정</div>
                            <div class="metric-change negative">-3.2%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">✅</div>
                            <div class="metric-number" id="hiredCandidatesCount">0</div>
                            <div class="metric-label">채용 완료</div>
                            <div class="metric-change positive">+15.7%</div>
                        </div>
                    </div>

                    <!-- 최신 지원서와 통계 -->
                    <div class="grid grid-2">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">최신 지원서</h3>
                                <div class="card-actions">
                                    <button class="btn btn-sm" data-page="candidates">전체 보기</button>
                                    <button class="btn btn-sm btn-primary" onclick="candidateManager.loadRecentCandidates()">새로 고침</button>
                                </div>
                            </div>
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>지원자</th>
                                            <th>포지션</th>
                                            <th>상태</th>
                                            <th>지원일</th>
                                        </tr>
                                    </thead>
                                    <tbody id="recentCandidatesTable">
                                        <!-- 최신 지원자들이 여기에 표시됩니다 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">월간 채용 현황</h3>
                                <div class="card-actions">
                                    <select class="form-select" style="width: auto; padding: 6px 12px; font-size: 13px;">
                                        <option>이번 달</option>
                                        <option>지난 달</option>
                                        <option>지난 3개월</option>
                                    </select>
                                </div>
                            </div>
                            <div style="padding: 24px 0;">
                                <div style="margin-bottom: 24px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 14px; font-weight: 500;">지원서 접수</span>
                                        <span style="font-size: 14px; color: var(--text-secondary);" id="applicationRate">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="applicationProgress" style="width: 0%;"></div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 24px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 14px; font-weight: 500;">서류 통과</span>
                                        <span style="font-size: 14px; color: var(--text-secondary);" id="passRate">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="passProgress" style="width: 0%;"></div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 24px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 14px; font-weight: 500;">면접 완료</span>
                                        <span style="font-size: 14px; color: var(--text-secondary);" id="interviewRate">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="interviewProgress" style="width: 0%;"></div>
                                    </div>
                                </div>
                                <div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 14px; font-weight: 500;">최종 합격</span>
                                        <span style="font-size: 14px; color: var(--text-secondary);" id="hireRate">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="hireProgress" style="width: 0%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 지원자 관리 페이지 -->
                <div class="page-content" id="candidates">
                    <div class="page-header">
                        <h1 class="page-title">지원자 관리</h1>
                        <p class="page-subtitle">모든 지원자를 체계적으로 관리하고 진행 상황을 추적하세요.</p>
                    </div>

                    <!-- 검색 및 필터 바 -->
                    <div class="search-filter-bar">
                        <div class="search-input">
                            <input type="text" class="form-input" id="candidateSearch" placeholder="지원자 이름, 이메일, 스킬로 검색...">
                        </div>
                        <select class="form-select" id="statusFilter" style="min-width: 120px;">
                            <option value="">모든 상태</option>
                            <option value="신규">신규</option>
                            <option value="서류통과">서류통과</option>
                            <option value="면접대기">면접대기</option>
                            <option value="최종합격">최종합격</option>
                            <option value="불합격">불합격</option>
                        </select>
                        <select class="form-select" id="positionFilter" style="min-width: 150px;">
                            <option value="">모든 포지션</option>
                            <option value="프론트엔드 개발자">프론트엔드 개발자</option>
                            <option value="백엔드 개발자">백엔드 개발자</option>
                            <option value="UX 디자이너">UX 디자이너</option>
                            <option value="데이터 분석가">데이터 분석가</option>
                        </select>
                    </div>

                    <!-- 작업 버튼 -->
                    <div class="card" style="margin-bottom: 16px;">
                        <div style="display: flex; gap: 8px; align-items: center; justify-content: space-between; flex-wrap: wrap;">
                            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                <button class="btn" onclick="triggerCSVUpload()">📦 CSV/엑셀 업로드</button>
                                <button class="btn" onclick="candidateManager.exportCSV()">📤 내보내기</button>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-primary" onclick="openNewCandidateModal()">새 지원자 등록</button>
                            </div>
                        </div>
                        
                        <!-- 숨겨진 파일 입력 -->
                        <input type="file" id="csvFileInput" accept=".csv,.xlsx,.xls" style="display: none;" onchange="handleCSVUpload(event)">
                    </div>

                    <!-- 선택된 지원자 액션 바 -->
                    <div id="selectedCandidatesBar" class="selected-candidates-bar hidden">
                        <div>
                            <span id="selectedCount">0명 선택됨</span>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn btn-sm" onclick="bulkUpdateStatus('서류통과')">서류통과</button>
                            <button class="btn btn-sm" onclick="bulkUpdateStatus('면접대기')">면접대기</button>
                            <button class="btn btn-sm" onclick="bulkUpdateStatus('최종합격')">최종합격</button>
                            <button class="btn btn-sm" onclick="bulkUpdateStatus('불합격')">불합격</button>
                            <button class="btn btn-sm" onclick="sendBulkEmail()">📧 일괄 이메일</button>
                            <button class="btn btn-sm" onclick="clearSelection()">선택 해제</button>
                        </div>
                    </div>

                    <!-- 지원자 테이블 -->
                    <div class="card">
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>
                                            <input type="checkbox" id="selectAllCandidates" onchange="toggleSelectAll()">
                                            지원자
                                        </th>
                                        <th>포지션</th>
                                        <th>스킬</th>
                                        <th>상태</th>
                                        <th>지원일</th>
                                        <th>평가 점수</th>
                                        <th>작업</th>
                                    </tr>
                                </thead>
                                <tbody id="candidatesTableBody">
                                    <!-- 지원자 데이터가 여기에 렌더링됩니다 -->
                                </tbody>
                            </table>
                        </div>
                        <!-- 페이지네이션 -->
                        <div class="pagination" id="candidatesPagination">
                            <!-- 페이지네이션 버튼들이 여기에 생성됩니다 -->
                        </div>
                    </div>

                    <!-- 새 지원자 등록 모달 -->
                    <div id="newCandidateModal" class="modal hidden">
                        <div class="modal-content">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h2 style="margin: 0; font-size: 20px;">새 지원자 등록</h2>
                                <button class="btn" onclick="closeNewCandidateModal()">✕</button>
                            </div>
                            
                            <form id="newCandidateForm" onsubmit="handleNewCandidate(event)">
                                <div class="grid grid-2">
                                    <div class="form-group">
                                        <label class="form-label">지원자명</label>
                                        <input type="text" class="form-input" name="name" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">이메일</label>
                                        <input type="email" class="form-input" name="email">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">전화번호</label>
                                        <input type="tel" class="form-input" name="phone">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">포지션</label>
                                        <input type="text" class="form-input" name="position" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">경력</label>
                                        <input type="text" class="form-input" name="experience" placeholder="예: 3년">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">상태</label>
                                        <select class="form-select" name="status" required>
                                            <option value="신규">신규</option>
                                            <option value="서류통과">서류통과</option>
                                            <option value="면접대기">면접대기</option>
                                            <option value="최종합격">최종합격</option>
                                            <option value="불합격">불합격</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">지원일</label>
                                        <input type="date" class="form-input" name="appliedDate">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">평가점수</label>
                                        <input type="number" class="form-input" name="score" min="0" max="100" value="70">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">스킬 (세미콜론 ; 또는 | 로 구분)</label>
                                    <input type="text" class="form-input" name="skills" placeholder="예: React;JavaScript;TypeScript">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">자기소개서</label>
                                    <textarea class="form-textarea" name="coverLetter" rows="4" placeholder="자기소개서 내용..."></textarea>
                                </div>
                                
                                <div style="display: flex; gap: 8px; margin-top: 24px;">
                                    <button type="button" class="btn" onclick="closeNewCandidateModal()" style="flex: 1;">취소</button>
                                    <button type="submit" class="btn btn-primary" style="flex: 1;">등록</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- 채용공고 페이지 -->
                <div class="page-content" id="jobs">
                    <div class="page-header">
                        <h1 class="page-title">채용공고 관리</h1>
                        <p class="page-subtitle">새로운 채용공고를 등록하고 기존 공고를 관리하세요.</p>
                    </div>

                    <div class="search-filter-bar">
                        <div class="search-input">
                            <input type="text" class="form-input" id="jobSearch" placeholder="채용공고 제목, 부서, 스킬로 검색...">
                        </div>
                        <select class="form-select" id="jobStatusFilter" style="min-width: 120px;">
                            <option value="">모든 상태</option>
                            <option value="진행중">진행 중</option>
                            <option value="마감">마감</option>
                            <option value="임시저장">임시저장</option>
                        </select>
                        <button class="btn btn-primary" onclick="openNewJobModal()">
                            ➕ 새 채용공고
                        </button>
                    </div>

                    <div class="grid grid-2" id="jobsList">
                        <!-- 채용공고 카드들이 여기에 표시됩니다 -->
                    </div>

                    <!-- 새 채용공고 등록 모달 -->
                    <div id="newJobModal" class="modal hidden">
                        <div class="modal-content">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h2 style="margin: 0; font-size: 20px;">새 채용공고 등록</h2>
                                <button class="btn" onclick="closeNewJobModal()">✕</button>
                            </div>
                            
                            <form id="newJobForm" onsubmit="handleNewJob(event)">
                                <div class="grid grid-2">
                                    <div class="form-group">
                                        <label class="form-label">공고 제목</label>
                                        <input type="text" class="form-input" name="title" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">부서</label>
                                        <input type="text" class="form-input" name="department" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">채용 인원</label>
                                        <input type="number" class="form-input" name="positions" min="1" value="1" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">경력 조건</label>
                                        <select class="form-select" name="experience" required>
                                            <option value="신입">신입</option>
                                            <option value="경력무관">경력무관</option>
                                            <option value="1-3년">1-3년</option>
                                            <option value="3-5년">3-5년</option>
                                            <option value="5년이상">5년 이상</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">마감일</label>
                                        <input type="date" class="form-input" name="deadline" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">상태</label>
                                        <select class="form-select" name="status" required>
                                            <option value="진행중">진행 중</option>
                                            <option value="임시저장">임시저장</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">필요 스킬</label>
                                    <input type="text" class="form-input" name="skills" placeholder="예: React;JavaScript;TypeScript">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">공고 내용</label>
                                    <textarea class="form-textarea" name="description" rows="6" placeholder="채용공고 상세 내용을 입력하세요..." required></textarea>
                                </div>
                                
                                <div style="display: flex; gap: 8px; margin-top: 24px;">
                                    <button type="button" class="btn" onclick="closeNewJobModal()" style="flex: 1;">취소</button>
                                    <button type="submit" class="btn btn-primary" style="flex: 1;">등록</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- 면접 일정 페이지 -->
                <div class="page-content" id="interviews">
                    <div class="page-header">
                        <h1 class="page-title">면접 일정 관리</h1>
                        <p class="page-subtitle">면접 일정을 효율적으로 관리하고 면접관을 배정하세요.</p>
                    </div>

                    <div class="search-filter-bar">
                        <div class="search-input">
                            <input type="text" class="form-input" id="interviewSearch" placeholder="지원자 이름, 면접관으로 검색...">
                        </div>
                        <select class="form-select" id="interviewStatusFilter" style="min-width: 120px;">
                            <option value="">모든 상태</option>
                            <option value="예정">예정</option>
                            <option value="진행중">진행 중</option>
                            <option value="완료">완료</option>
                            <option value="취소">취소</option>
                        </select>
                        <button class="btn btn-primary" onclick="openNewInterviewModal()">
                            📅 면접 일정 추가
                        </button>
                    </div>

                    <div id="interviewsList">
                        <!-- 면접 일정 카드들이 여기에 표시됩니다 -->
                    </div>

                    <!-- 새 면접 일정 등록 모달 -->
                    <div id="newInterviewModal" class="modal hidden">
                        <div class="modal-content">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h2 style="margin: 0; font-size: 20px;">면접 일정 등록</h2>
                                <button class="btn" onclick="closeNewInterviewModal()">✕</button>
                            </div>
                            
                            <form id="newInterviewForm" onsubmit="handleNewInterview(event)">
                                <div class="grid grid-2">
                                    <div class="form-group">
                                        <label class="form-label">지원자 선택</label>
                                        <select class="form-select" name="candidateId" id="interviewCandidateSelect" required>
                                            <option value="">지원자를 선택하세요</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">면접 유형</label>
                                        <select class="form-select" name="type" required>
                                            <option value="1차면접">1차 면접</option>
                                            <option value="2차면접">2차 면접</option>
                                            <option value="최종면접">최종 면접</option>
                                            <option value="기술면접">기술 면접</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">면접일</label>
                                        <input type="date" class="form-input" name="date" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">면접 시간</label>
                                        <input type="time" class="form-input" name="time" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">소요시간 (분)</label>
                                        <input type="number" class="form-input" name="duration" min="15" value="60" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">면접관</label>
                                        <input type="text" class="form-input" name="interviewer" placeholder="면접관 이름" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">면접 장소</label>
                                    <input type="text" class="form-input" name="location" placeholder="회의실명 또는 온라인 링크">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">면접 메모</label>
                                    <textarea class="form-textarea" name="notes" rows="3" placeholder="면접 관련 메모사항..."></textarea>
                                </div>
                                
                                <div style="display: flex; gap: 8px; margin-top: 24px;">
                                    <button type="button" class="btn" onclick="closeNewInterviewModal()" style="flex: 1;">취소</button>
                                    <button type="submit" class="btn btn-primary" style="flex: 1;">등록</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- 리포트 페이지 -->
                <div class="page-content" id="reports">
                    <div class="page-header">
                        <h1 class="page-title">리포트</h1>
                        <p class="page-subtitle">채용 데이터를 분석하여 인사이트를 얻고 개선점을 찾아보세요.</p>
                    </div>

                    <div class="grid grid-2" style="margin-bottom: 32px;">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">월별 채용 현황</h3>
                                <div class="card-actions">
                                    <select class="form-select" style="width: auto; padding: 6px 12px; font-size: 13px;">
                                        <option>최근 6개월</option>
                                        <option>최근 12개월</option>
                                    </select>
                                </div>
                            </div>
                            <div class="chart-placeholder">
                                📊 월별 지원자 수 및 채용 완료율 차트
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">부서별 채용 현황</h3>
                            </div>
                            <div class="chart-placeholder">
                                🥧 부서별 채용 비율 파이 차트
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-3">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">채용 소요시간 분석</h3>
                            </div>
                            <div style="padding: 20px 0;">
                                <div class="metric-number" style="font-size: 24px; margin-bottom: 8px;">21일</div>
                                <div class="metric-label">평균 채용 소요시간</div>
                                <div class="metric-change positive">전월 대비 -3일</div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">면접 통과율</h3>
                            </div>
                            <div style="padding: 20px 0;">
                                <div class="metric-number" style="font-size: 24px; margin-bottom: 8px;">68%</div>
                                <div class="metric-label">1차 면접 통과율</div>
                                <div class="metric-change positive">+5.2%</div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">최종 합격률</h3>
                            </div>
                            <div style="padding: 20px 0;">
                                <div class="metric-number" style="font-size: 24px; margin-bottom: 8px;">15%</div>
                                <div class="metric-label">전체 지원자 대비 합격률</div>
                                <div class="metric-change positive">+2.1%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 성과 지표 페이지 -->
                <div class="page-content" id="analytics">
                    <div class="page-header">
                        <h1 class="page-title">성과 지표</h1>
                        <p class="page-subtitle">채용 성과를 측정하고 KPI를 추적하세요.</p>
                    </div>

                    <div class="grid grid-4" style="margin-bottom: 32px;">
                        <div class="metric-card">
                            <div class="metric-icon">⏱️</div>
                            <div class="metric-number" id="avgRecruitmentTime">21일</div>
                            <div class="metric-label">평균 채용 소요시간</div>
                            <div class="metric-change negative">전월 대비 -3일</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">💰</div>
                            <div class="metric-number">₩2.8M</div>
                            <div class="metric-label">1인당 채용 비용</div>
                            <div class="metric-change positive">전월 대비 -15%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">📈</div>
                            <div class="metric-number">85%</div>
                            <div class="metric-label">채용 목표 달성률</div>
                            <div class="metric-change positive">+10%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">👍</div>
                            <div class="metric-number">4.2/5</div>
                            <div class="metric-label">지원자 만족도</div>
                            <div class="metric-change positive">+0.3</div>
                        </div>
                    </div>

                    <div class="grid grid-2">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">채용 전환율 분석</h3>
                            </div>
                            <div class="chart-placeholder">
                                📊 단계별 전환율 깔때기 차트
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">채용 채널별 성과</h3>
                            </div>
                            <div class="chart-placeholder">
                                📈 채용 채널별 지원자 수 및 품질 비교
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 교육 자료 페이지 -->
                <div class="page-content" id="training">
                    <div class="page-header">
                        <h1 class="page-title">교육 자료</h1>
                        <p class="page-subtitle">면접관을 위한 교육 자료와 가이드를 제공합니다.</p>
                    </div>

                    <div class="grid grid-3">
                        <div class="card">
                            <div style="padding: 20px 0; text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 16px;">📖</div>
                                <h3 style="margin-bottom: 8px;">면접 가이드</h3>
                                <p style="color: var(--text-secondary); margin-bottom: 16px;">포지션별 추천 면접 질문 모음</p>
                                <button class="btn btn-primary">질문 보기</button>
                            </div>
                        </div>

                        <div class="card">
                            <div style="padding: 20px 0; text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 16px;">⚖️</div>
                                <h3 style="margin-bottom: 8px;">법적 가이드라인</h3>
                                <p style="color: var(--text-secondary); margin-bottom: 16px;">채용 과정에서 주의해야 할 법적 사항</p>
                                <button class="btn btn-primary">가이드라인 보기</button>
                            </div>
                        </div>

                        <div class="card">
                            <div style="padding: 20px 0; text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 16px;">🎓</div>
                                <h3 style="margin-bottom: 8px;">온라인 교육</h3>
                                <p style="color: var(--text-secondary); margin-bottom: 16px;">면접관 역량 강화 온라인 과정</p>
                                <button class="btn btn-primary">교육 시작</button>
                            </div>
                        </div>

                        <div class="card">
                            <div style="padding: 20px 0; text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 16px;">📋</div>
                                <h3 style="margin-bottom: 8px;">체크리스트</h3>
                                <p style="color: var(--text-secondary); margin-bottom: 16px;">면접 준비 및 진행 체크리스트</p>
                                <button class="btn btn-primary">체크리스트 보기</button>
                            </div>
                        </div>
                    </div>

                    <div class="card" style="margin-top: 32px;">
                        <div class="card-header">
                            <h3 class="card-title">최근 업데이트된 자료</h3>
                        </div>
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>자료명</th>
                                        <th>카테고리</th>
                                        <th>업데이트일</th>
                                        <th>작업</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>개발자 면접 질문 가이드 v2.1</td>
                                        <td>질문 은행</td>
                                        <td>2024-03-15</td>
                                        <td><button class="btn btn-sm">다운로드</button></td>
                                    </tr>
                                    <tr>
                                        <td>원격 면접 진행 매뉴얼</td>
                                        <td>면접 가이드</td>
                                        <td>2024-03-10</td>
                                        <td><button class="btn btn-sm">다운로드</button></td>
                                    </tr>
                                    <tr>
                                        <td>다양성 채용 가이드라인</td>
                                        <td>법적 가이드라인</td>
                                        <td>2024-03-05</td>
                                        <td><button class="btn btn-sm">다운로드</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="assets/main.js"></script>
    <script>
        // 유틸리티
        function escapeHtml(value) {
            return String(value ?? '')
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#39;');
        }

        // 지원자 관리 클래스
        class CandidateManager {
            constructor() {
                this.candidates = [];
                this.selectedCandidates = new Set();
                this.currentPage = 1;
                this.itemsPerPage = 10;
                this.currentCandidateId = null;
                this.filters = {
                    search: '',
                    status: '',
                    position: ''
                };
                this.init();
            }

            init() {
                this.loadCandidates();
                this.bindEvents();
                this.renderCandidates();
                this.updateDashboardStats();
                this.loadRecentCandidates();
            }

            loadCandidates() {
                const saved = localStorage.getItem('candidates');
                if (saved) {
                    this.candidates = JSON.parse(saved);
                } else {
                    this.candidates = this.generateSampleData();
                    this.saveCandidates();
                }
            }

            generateSampleData() {
                const names = ['김민수', '박서연', '이준호', '최은영', '정다은', '홍길동', '이영희', '김철수', '박지민', '이수진', '최민호', '강하늘'];
                const positions = ['프론트엔드 개발자', 'UX 디자이너', '백엔드 개발자', '데이터 분석가', 'DevOps 엔지니어', '프로덕트 매니저'];
                const statuses = ['신규', '서류통과', '면접대기', '최종합격', '불합격'];
                const skillSets = [
                    ['React', 'TypeScript', 'Next.js'],
                    ['Figma', 'Sketch', 'Adobe XD'],
                    ['Node.js', 'Python', 'PostgreSQL'],
                    ['Python', 'SQL', 'Tableau'],
                    ['Docker', 'Kubernetes', 'AWS'],
                    ['Jira', 'Confluence', 'Analytics']
                ];

                return names.map((name, index) => ({
                    id: index + 1,
                    name: name,
                    email: `${name.toLowerCase().replace(/\s+/g, '')}@example.com`,
                    phone: `010-${String(Math.floor(Math.random() * 9000) + 1000)}-${String(Math.floor(Math.random() * 9000) + 1000)}`,
                    position: positions[index % positions.length],
                    status: statuses[index % statuses.length],
                    experience: `${Math.floor(Math.random() * 10) + 1}년`,
                    skills: skillSets[index % skillSets.length],
                    appliedDate: new Date(Date.now() - Math.floor(Math.random() * 30) * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                    score: Math.floor(Math.random() * 40) + 60,
                    avatar: `🐱🐶🐭🐰🦊🐻🐼🐨🐯🦁🐸🐵`[index % 12],
                    coverLetter: `안녕하세요. ${name}입니다. ${positions[index % positions.length]} 포지션에 지원하게 되었습니다.`,
                    careerHistory: `- ${new Date().getFullYear() - 2}년 ~ ${new Date().getFullYear()}년: 전 회사 근무`,
                    education: `컴퓨터공학과 학사`,
                    evaluations: {
                        overall: Math.floor(Math.random() * 40) + 60,
                        technical: Math.floor(Math.random() * 40) + 60,
                        communication: Math.floor(Math.random() * 40) + 60,
                        problemSolving: Math.floor(Math.random() * 40) + 60,
                        teamwork: Math.floor(Math.random() * 40) + 60,
                        notes: ''
                    },
                    history: [
                        {
                            date: new Date(Date.now() - Math.floor(Math.random() * 10) * 24 * 60 * 60 * 1000).toISOString(),
                            action: '지원서 접수',
                            description: '온라인으로 지원서 접수 완료'
                        }
                    ]
                }));
            }

            saveCandidates() {
                localStorage.setItem('candidates', JSON.stringify(this.candidates));
            }

            addCandidate(candidateData) {
                const newCandidate = {
                    ...candidateData,
                    id: this.getNextId(),
                    skills: this.parseSkills(candidateData.skills),
                    appliedDate: candidateData.appliedDate || new Date().toISOString().split('T')[0],
                    score: parseInt(candidateData.score) || 70,
                    avatar: '👤',
                    evaluations: {
                        overall: parseInt(candidateData.score) || 70,
                        technical: 70,
                        communication: 70,
                        problemSolving: 70,
                        teamwork: 70,
                        notes: ''
                    },
                    history: [
                        {
                            date: new Date().toISOString(),
                            action: '지원자 등록',
                            description: '새로운 지원자로 등록됨'
                        }
                    ]
                };
                
                this.candidates.push(newCandidate);
                this.saveCandidates();
                this.renderCandidates();
                this.updateDashboardStats();
                this.loadRecentCandidates();
                showToast('지원자가 등록되었습니다.', 'success');
                return newCandidate;
            }

            getNextId() {
                return Math.max(0, ...this.candidates.map(c => c.id || 0)) + 1;
            }

            parseSkills(skillsString) {
                if (!skillsString) return [];
                return String(skillsString).split(/[;|]/).map(s => s.trim()).filter(Boolean);
            }

            deleteCandidate(id) {
                if (confirm('정말 삭제하시겠습니까?')) {
                    this.candidates = this.candidates.filter(c => c.id !== id);
                    this.selectedCandidates.delete(id);
                    this.saveCandidates();
                    this.renderCandidates();
                    this.updateSelectedCount();
                    this.updateDashboardStats();
                    this.loadRecentCandidates();
                    showToast('지원자가 삭제되었습니다.', 'success');
                }
            }

            getFilteredCandidates() {
                return this.candidates.filter(candidate => {
                    const matchesSearch = !this.filters.search || 
                        candidate.name.toLowerCase().includes(this.filters.search.toLowerCase()) ||
                        candidate.email.toLowerCase().includes(this.filters.search.toLowerCase()) ||
                        candidate.skills.some(skill => skill.toLowerCase().includes(this.filters.search.toLowerCase()));
                    
                    const matchesStatus = !this.filters.status || candidate.status === this.filters.status;
                    const matchesPosition = !this.filters.position || candidate.position === this.filters.position;
                    
                    return matchesSearch && matchesStatus && matchesPosition;
                });
            }

            renderCandidates() {
                const filteredCandidates = this.getFilteredCandidates();
                const totalPages = Math.ceil(filteredCandidates.length / this.itemsPerPage);
                const startIndex = (this.currentPage - 1) * this.itemsPerPage;
                const endIndex = startIndex + this.itemsPerPage;
                const pageCandidates = filteredCandidates.slice(startIndex, endIndex);

                const tbody = document.getElementById('candidatesTableBody');
                if (!tbody) return;

                if (pageCandidates.length === 0) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 40px; color: var(--text-secondary);">
                                ${filteredCandidates.length === 0 ? '등록된 지원자가 없습니다.' : '해당 페이지에 지원자가 없습니다.'}
                            </td>
                        </tr>
                    `;
                } else {
                    tbody.innerHTML = pageCandidates.map(candidate => `
                        <tr>
                            <td>
                                <div style="display: flex; align-items: center;">
                                    <input type="checkbox" class="candidate-checkbox" value="${candidate.id}" onchange="candidateManager.toggleSelectCandidate(${candidate.id})" style="margin-right: 12px;">
                                    <div class="user-avatar">${escapeHtml(candidate.avatar)}</div>
                                    <div class="user-info">
                                        <div class="user-name">${escapeHtml(candidate.name)}</div>
                                        <div class="user-email">${escapeHtml(candidate.email || '')}</div>
                                    </div>
                                </div>
                            </td>
                            <td>${escapeHtml(candidate.position)}</td>
                            <td>
                                <div style="display: flex; flex-wrap: wrap; gap: 4px;">
                                    ${candidate.skills.map(skill => `<span class="skill-tag">${escapeHtml(skill)}</span>`).join('')}
                                </div>
                            </td>
                            <td><span class="status-badge status-${escapeHtml(candidate.status)}">${escapeHtml(candidate.status)}</span></td>
                            <td>${escapeHtml(candidate.appliedDate)}</td>
                            <td>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div class="progress-bar" style="width: 60px; height: 6px;">
                                        <div class="progress-fill" style="width: ${candidate.score}%;"></div>
                                    </div>
                                    <span style="font-size: 12px; font-weight: 600;">${candidate.score}점</span>
                                </div>
                            </td>
                            <td>
                                <div style="display: flex; gap: 4px;">
                                    <button class="btn btn-sm" onclick="candidateManager.sendEmail(${candidate.id})" title="이메일 발송">📧</button>
                                    <button class="btn btn-sm" onclick="candidateManager.viewResume(${candidate.id})" title="이력서 보기">📄</button>
                                    <button class="btn btn-sm" onclick="candidateManager.openDetailModal(${candidate.id})" title="상세 정보">⚙️</button>
                                    <button class="btn btn-sm" onclick="candidateManager.deleteCandidate(${candidate.id})" title="삭제" style="color: #ef4444;">🗑️</button>
                                </div>
                            </td>
                        </tr>
                    `).join('');
                }

                this.renderPagination(totalPages);
                this.updateSelectedCount();
            }

            renderPagination(totalPages) {
                const container = document.getElementById('candidatesPagination');
                if (!container) return;
                
                if (totalPages <= 1) {
                    container.innerHTML = '';
                    return;
                }

                const buttons = [];
                
                // 이전 버튼
                buttons.push(`
                    <button class="pagination-btn" ${this.currentPage === 1 ? 'disabled' : ''} 
                            onclick="candidateManager.goToPage(${this.currentPage - 1})">이전</button>
                `);

                // 페이지 번호 버튼들
                for (let i = 1; i <= totalPages; i++) {
                    buttons.push(`
                        <button class="pagination-btn ${i === this.currentPage ? 'active' : ''}" 
                                onclick="candidateManager.goToPage(${i})">${i}</button>
                    `);
                }

                // 다음 버튼
                buttons.push(`
                    <button class="pagination-btn" ${this.currentPage === totalPages ? 'disabled' : ''} 
                            onclick="candidateManager.goToPage(${this.currentPage + 1})">다음</button>
                `);

                container.innerHTML = buttons.join('');
            }

            goToPage(page) {
                const totalPages = Math.ceil(this.getFilteredCandidates().length / this.itemsPerPage);
                if (page >= 1 && page <= totalPages) {
                    this.currentPage = page;
                    this.renderCandidates();
                }
            }

            updateSelectedCount() {
                const bar = document.getElementById('selectedCandidatesBar');
                const label = document.getElementById('selectedCount');
                if (!bar || !label) return;
                
                const count = this.selectedCandidates.size;
                if (count > 0) {
                    bar.classList.remove('hidden');
                    label.textContent = `${count}명 선택됨`;
                } else {
                    bar.classList.add('hidden');
                }
            }

            toggleSelectCandidate(id) {
                if (this.selectedCandidates.has(id)) {
                    this.selectedCandidates.delete(id);
                } else {
                    this.selectedCandidates.add(id);
                }
                this.updateSelectedCount();
                
                // 전체 선택 체크박스 상태 업데이트
                const allCheckbox = document.getElementById('selectAllCandidates');
                const candidateCheckboxes = document.querySelectorAll('.candidate-checkbox');
                const checkedCount = document.querySelectorAll('.candidate-checkbox:checked').length;
                
                if (allCheckbox) {
                    allCheckbox.checked = checkedCount === candidateCheckboxes.length && candidateCheckboxes.length > 0;
                    allCheckbox.indeterminate = checkedCount > 0 && checkedCount < candidateCheckboxes.length;
                }
            }

            loadRecentCandidates() {
                const tbody = document.getElementById('recentCandidatesTable');
                if (!tbody) return;
                
                const sorted = [...this.candidates].sort((a, b) => (b.appliedDate || '').localeCompare(a.appliedDate || ''));
                const recent = sorted.slice(0, 5);
                
                if (recent.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="4" style="text-align:center; padding:20px; color: var(--text-secondary);">최근 지원자가 없습니다.</td></tr>';
                    return;
                }
                
                tbody.innerHTML = recent.map(c => `
                    <tr>
                        <td>
                            <div style="display:flex; align-items:center; gap:8px;">
                                <div class="user-avatar">${escapeHtml(c.avatar || '👤')}</div>
                                <div class="user-info">
                                    <div class="user-name">${escapeHtml(c.name)}</div>
                                    <div class="user-email">${escapeHtml(c.email || '')}</div>
                                </div>
                            </div>
                        </td>
                        <td>${escapeHtml(c.position || '')}</td>
                        <td><span class="status-badge status-${escapeHtml(c.status)}">${escapeHtml(c.status)}</span></td>
                        <td>${escapeHtml(c.appliedDate || '')}</td>
                    </tr>
                `).join('');
            }

            updateDashboardStats() {
                const total = this.candidates.length;
                const hired = this.candidates.filter(c => ['최종합격', '채용완료'].includes(c.status)).length;
                const active = this.candidates.filter(c => ['신규', '서류통과', '면접대기'].includes(c.status)).length;
                
                const setText = (id, v) => {
                    const el = document.getElementById(id);
                    if (el) el.textContent = String(v);
                };
                
                setText('totalCandidatesCount', total);
                setText('hiredCandidatesCount', hired);
                setText('activeCandidatesCount', active);
                
                // 오늘 면접 일정 수 (데모용으로 랜덤 값)
                setText('todayInterviewsCount', Math.floor(Math.random() * 10) + 15);

                const toPct = (n) => total === 0 ? 0 : Math.round((n / total) * 100);
                const pass = this.candidates.filter(c => c.status === '서류통과').length;
                const interview = this.candidates.filter(c => c.status === '면접대기').length;
                const hire = hired;
                
                const setRate = (rateId, progressId, pct) => {
                    const r = document.getElementById(rateId);
                    const p = document.getElementById(progressId);
                    if (r) r.textContent = `${pct}%`;
                    if (p) p.style.width = `${pct}%`;
                };
                
                setRate('applicationRate', 'applicationProgress', total > 0 ? 100 : 0);
                setRate('passRate', 'passProgress', toPct(pass));
                setRate('interviewRate', 'interviewProgress', toPct(interview));
                setRate('hireRate', 'hireProgress', toPct(hire));
            }

            bindEvents() {
                const search = document.getElementById('candidateSearch');
                const status = document.getElementById('statusFilter');
                const position = document.getElementById('positionFilter');
                
                if (search) {
                    search.addEventListener('input', (e) => {
                        this.filters.search = e.target.value || '';
                        this.currentPage = 1;
                        this.renderCandidates();
                    });
                }
                
                if (status) {
                    status.addEventListener('change', (e) => {
                        this.filters.status = e.target.value || '';
                        this.currentPage = 1;
                        this.renderCandidates();
                    });
                }
                
                if (position) {
                    position.addEventListener('change', (e) => {
                        this.filters.position = e.target.value || '';
                        this.currentPage = 1;
                        this.renderCandidates();
                    });
                }
            }

            exportCSV() {
                const header = ['id', 'name', 'email', 'phone', 'position', 'status', 'experience', 'skills', 'appliedDate', 'score'];
                const rows = [header.join(',')];
                
                this.candidates.forEach(c => {
                    const row = [
                        c.id, c.name, c.email || '', c.phone || '', c.position || '', 
                        c.status || '', c.experience || '', (c.skills || []).join('|'), 
                        c.appliedDate || '', c.score || 0
                    ];
                    rows.push(row.map(v => typeof v === 'string' && v.includes(',') ? '"' + v.replace(/"/g, '""') + '"' : v).join(','));
                });
                
                const blob = new Blob([rows.join('\n')], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'candidates.csv';
                document.body.appendChild(a);
                a.click();
                a.remove();
                URL.revokeObjectURL(url);
                showToast('CSV로 내보냈습니다.', 'success');
            }

            viewResume(id) {
                this.openDetailModal(id);
                showTab('resume');
            }

            sendEmail(id) {
                const c = this.candidates.find(x => x.id === id);
                if (c) showToast(`${c.name}님에게 이메일 발송 (데모)`, 'success');
            }

            openDetailModal(id) {
                this.currentCandidateId = id;
                const c = this.candidates.find(x => x.id === id);
                if (!c) return;
                
                const setVal = (i, v) => {
                    const el = document.getElementById(i);
                    if (el) el.value = v ?? '';
                };
                
                setVal('candidateName', c.name);
                setVal('candidateEmail', c.email);
                setVal('candidatePhone', c.phone);
                setVal('candidatePosition', c.position);
                setVal('candidateExperience', c.experience);
                
                const statusEl = document.getElementById('candidateStatus');
                if (statusEl) statusEl.value = c.status;
                
                const skillsWrap = document.getElementById('candidateSkills');
                if (skillsWrap) skillsWrap.innerHTML = (c.skills || []).map(s => `<span class="skill-tag">${escapeHtml(s)}</span>`).join('');
                
                setVal('candidateCoverLetter', c.coverLetter);
                setVal('candidateCareerHistory', c.careerHistory);
                setVal('candidateEducation', c.education);
                
                const setScore = (k, v) => {
                    const s = document.getElementById(`${k}Score`);
                    const d = document.getElementById(`${k}ScoreDisplay`);
                    if (s) s.value = v ?? 0;
                    if (d) d.textContent = `${v ?? 0}점`;
                };
                
                setScore('overall', c.evaluations?.overall ?? c.score ?? 0);
                setScore('technical', c.evaluations?.technical ?? 0);
                setScore('communication', c.evaluations?.communication ?? 0);
                setScore('problemSolving', c.evaluations?.problemSolving ?? 0);
                setScore('teamwork', c.evaluations?.teamwork ?? 0);
                
                const notes = document.getElementById('evaluationNotes');
                if (notes) notes.value = c.evaluations?.notes ?? '';
                
                // 진행 이력 표시
                const historyDiv = document.getElementById('candidateHistory');
                if (historyDiv && c.history) {
                    historyDiv.innerHTML = c.history.map(h => `
                        <div style="padding: 16px; border: 1px solid var(--border-color); border-radius: var(--radius); margin-bottom: 8px;">
                            <div style="font-weight: 600; margin-bottom: 4px;">${escapeHtml(h.action)}</div>
                            <div style="color: var(--text-secondary); font-size: 12px; margin-bottom: 8px;">${new Date(h.date).toLocaleDateString()}</div>
                            <div style="font-size: 14px;">${escapeHtml(h.description)}</div>
                        </div>
                    `).join('');
                }
                
                document.getElementById('candidateDetailModal')?.classList.remove('hidden');
            }
        }

        // 채용공고 관리 클래스
        class JobManager {
            constructor() {
                this.jobs = [];
                this.init();
            }

            init() {
                this.loadJobs();
                this.renderJobs();
            }

            loadJobs() {
                const saved = localStorage.getItem('jobs');
                if (saved) {
                    this.jobs = JSON.parse(saved);
                } else {
                    this.jobs = this.generateSampleJobs();
                    this.saveJobs();
                }
            }

            generateSampleJobs() {
                return [
                    {
                        id: 1,
                        title: '프론트엔드 개발자',
                        department: '개발팀',
                        positions: 2,
                        experience: '3-5년',
                        deadline: '2024-04-30',
                        status: '진행중',
                        skills: ['React', 'TypeScript', 'Next.js'],
                        description: '사용자 경험을 중시하는 프론트엔드 개발자를 모집합니다.',
                        createdDate: '2024-03-01'
                    },
                    {
                        id: 2,
                        title: 'UX 디자이너',
                        department: '디자인팀',
                        positions: 1,
                        experience: '경력무관',
                        deadline: '2024-04-15',
                        status: '진행중',
                        skills: ['Figma', 'Sketch', 'User Research'],
                        description: '사용자 중심의 디자인을 만드는 UX 디자이너를 찾습니다.',
                        createdDate: '2024-02-15'
                    }
                ];
            }

            saveJobs() {
                localStorage.setItem('jobs', JSON.stringify(this.jobs));
            }

            addJob(jobData) {
                const newJob = {
                    ...jobData,
                    id: this.getNextId(),
                    skills: this.parseSkills(jobData.skills),
                    createdDate: new Date().toISOString().split('T')[0]
                };
                
                this.jobs.push(newJob);
                this.saveJobs();
                this.renderJobs();
                showToast('채용공고가 등록되었습니다.', 'success');
                return newJob;
            }

            getNextId() {
                return Math.max(0, ...this.jobs.map(j => j.id || 0)) + 1;
            }

            parseSkills(skillsString) {
                if (!skillsString) return [];
                return String(skillsString).split(/[;|]/).map(s => s.trim()).filter(Boolean);
            }

            renderJobs() {
                const container = document.getElementById('jobsList');
                if (!container) return;

                if (this.jobs.length === 0) {
                    container.innerHTML = `
                        <div class="card" style="grid-column: 1 / -1; text-align: center; padding: 80px 20px; color: var(--text-secondary);">
                            💼 등록된 채용공고가 없습니다.
                        </div>
                    `;
                    return;
                }

                container.innerHTML = this.jobs.map(job => `
                    <div class="job-card">
                        <div class="job-title">${escapeHtml(job.title)}</div>
                        <div class="job-department">${escapeHtml(job.department)}</div>
                        <div class="job-info">
                            <div class="job-info-item">
                                <span>👥</span>
                                <span>${escapeHtml(job.positions)}명 모집</span>
                            </div>
                            <div class="job-info-item">
                                <span>⏰</span>
                                <span>${escapeHtml(job.experience)}</span>
                            </div>
                            <div class="job-info-item">
                                <span>📅</span>
                                <span>~${escapeHtml(job.deadline)}</span>
                            </div>
                        </div>
                        <div style="display: flex; flex-wrap: wrap; gap: 4px; margin-bottom: 16px;">
                            ${job.skills.map(skill => `<span class="skill-tag">${escapeHtml(skill)}</span>`).join('')}
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span class="status-badge status-${escapeHtml(job.status)}">${escapeHtml(job.status)}</span>
                            <div>
                                <button class="btn btn-sm" onclick="jobManager.editJob(${job.id})">수정</button>
                                <button class="btn btn-sm" onclick="jobManager.deleteJob(${job.id})" style="color: #ef4444;">삭제</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            editJob(id) {
                showToast('채용공고 수정 기능 (개발 예정)', 'warning');
            }

            deleteJob(id) {
                if (confirm('정말 삭제하시겠습니까?')) {
                    this.jobs = this.jobs.filter(j => j.id !== id);
                    this.saveJobs();
                    this.renderJobs();
                    showToast('채용공고가 삭제되었습니다.', 'success');
                }
            }
        }

        // 면접 관리 클래스
        class InterviewManager {
            constructor() {
                this.interviews = [];
                this.init();
            }

            init() {
                this.loadInterviews();
                this.renderInterviews();
            }

            loadInterviews() {
                const saved = localStorage.getItem('interviews');
                if (saved) {
                    this.interviews = JSON.parse(saved);
                } else {
                    this.interviews = this.generateSampleInterviews();
                    this.saveInterviews();
                }
            }

            generateSampleInterviews() {
                return [
                    {
                        id: 1,
                        candidateId: 1,
                        candidateName: '김민수',
                        position: '프론트엔드 개발자',
                        type: '1차면접',
                        date: '2024-03-20',
                        time: '14:00',
                        duration: 60,
                        interviewer: '이팀장',
                        location: '회의실 A',
                        status: '예정',
                        notes: '기술 면접 위주로 진행'
                    },
                    {
                        id: 2,
                        candidateId: 2,
                        candidateName: '박서연',
                        position: 'UX 디자이너',
                        type: '2차면접',
                        date: '2024-03-21',
                        time: '10:00',
                        duration: 90,
                        interviewer: '김대리',
                        location: '회의실 B',
                        status: '예정',
                        notes: '포트폴리오 발표 포함'
                    }
                ];
            }

            saveInterviews() {
                localStorage.setItem('interviews', JSON.stringify(this.interviews));
            }

            addInterview(interviewData) {
                const newInterview = {
                    ...interviewData,
                    id: this.getNextId(),
                    status: '예정'
                };
                
                this.interviews.push(newInterview);
                this.saveInterviews();
                this.renderInterviews();
                showToast('면접 일정이 등록되었습니다.', 'success');
                return newInterview;
            }

            getNextId() {
                return Math.max(0, ...this.interviews.map(i => i.id || 0)) + 1;
            }

            renderInterviews() {
                const container = document.getElementById('interviewsList');
                if (!container) return;

                if (this.interviews.length === 0) {
                    container.innerHTML = `
                        <div class="card" style="text-align: center; padding: 80px 20px; color: var(--text-secondary);">
                            📅 등록된 면접 일정이 없습니다.
                        </div>
                    `;
                    return;
                }

                container.innerHTML = this.interviews.map(interview => `
                    <div class="interview-card">
                        <div class="interview-header">
                            <div>
                                <div class="interview-candidate">${escapeHtml(interview.candidateName)}</div>
                                <div class="interview-position">${escapeHtml(interview.position)} - ${escapeHtml(interview.type)}</div>
                            </div>
                            <div class="interview-time">
                                <div class="interview-date">${escapeHtml(interview.date)}</div>
                                <div class="interview-duration">${escapeHtml(interview.time)} (${escapeHtml(interview.duration)}분)</div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="font-size: 13px; color: var(--text-secondary);">
                                면접관: ${escapeHtml(interview.interviewer)} | 장소: ${escapeHtml(interview.location)}
                            </div>
                            <div>
                                <span class="status-badge status-${escapeHtml(interview.status)}">${escapeHtml(interview.status)}</span>
                                <button class="btn btn-sm" onclick="interviewManager.editInterview(${interview.id})" style="margin-left: 8px;">수정</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            editInterview(id) {
                showToast('면접 일정 수정 기능 (개발 예정)', 'warning');
            }

            loadCandidatesForInterview() {
                if (!window.candidateManager) return;
                
                const select = document.getElementById('interviewCandidateSelect');
                if (!select) return;
                
                const eligibleCandidates = window.candidateManager.candidates.filter(c => 
                    ['서류통과', '면접대기'].includes(c.status)
                );
                
                select.innerHTML = '<option value="">지원자를 선택하세요</option>' +
                    eligibleCandidates.map(c => `<option value="${c.id}">${c.name} - ${c.position}</option>`).join('');
            }
        }

        // 전역 함수들
        function bulkUpdateStatus(status) {
            if (!window.candidateManager) return;
            const ids = Array.from(window.candidateManager.selectedCandidates);
            if (ids.length === 0) return showToast('선택된 지원자가 없습니다.', 'warning');
            
            window.candidateManager.candidates = window.candidateManager.candidates.map(c => 
                ids.includes(c.id) ? { ...c, status } : c
            );
            window.candidateManager.saveCandidates();
            window.candidateManager.renderCandidates();
            window.candidateManager.updateDashboardStats();
            window.candidateManager.loadRecentCandidates();
            showToast(`${ids.length}명 상태를 '${status}'로 변경`, 'success');
        }

        function sendBulkEmail() {
            if (!window.candidateManager) return;
            const count = window.candidateManager.selectedCandidates.size;
            if (count === 0) return showToast('선택된 지원자가 없습니다.', 'warning');
            showToast(`${count}명에게 이메일 발송 (데모)`, 'success');
        }

        function clearSelection() {
            if (!window.candidateManager) return;
            window.candidateManager.selectedCandidates.clear();
            document.querySelectorAll('.candidate-checkbox').forEach(cb => { cb.checked = false; });
            const all = document.getElementById('selectAllCandidates');
            if (all) all.checked = false;
            window.candidateManager.updateSelectedCount();
        }

        function toggleSelectAll() {
            if (!window.candidateManager) return;
            const all = document.getElementById('selectAllCandidates');
            const checked = !!all?.checked;
            document.querySelectorAll('.candidate-checkbox').forEach(cb => {
                cb.checked = checked;
                const id = Number(cb.value);
                if (checked) window.candidateManager.selectedCandidates.add(id);
                else window.candidateManager.selectedCandidates.delete(id);
            });
            window.candidateManager.updateSelectedCount();
        }

        function updateScoreDisplay(key, value) {
            const el = document.getElementById(`${key}ScoreDisplay`);
            if (el) el.textContent = `${value}점`;
        }

        function showToast(message, type = 'success') {
            const el = document.createElement('div');
            el.className = `toast ${type}`;
            el.textContent = message;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 3000);
        }

        // 페이지 전환
        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(el => el.classList.remove('active'));
            document.getElementById(pageId)?.classList.add('active');
            
            // 헤더 네비
            document.querySelectorAll('.header-nav .nav-item').forEach(a => {
                const p = a.getAttribute('data-page');
                a.classList.toggle('active', p === pageId);
            });
            
            // 사이드바
            document.querySelectorAll('.sidebar .sidebar-link').forEach(a => {
                const p = a.getAttribute('data-page');
                a.classList.toggle('active', p === pageId);
            });
            
            // 해시 반영
            try { window.location.hash = `#${pageId}`; } catch (_) {}
            return false;
        }

        // 브라우저 뒤로가기/앞으로가기 시 탭 상태 동기화
        window.addEventListener('hashchange', () => {
            const target = (window.location.hash || '#dashboard').replace('#', '') || 'dashboard';
            showPage(target);
        });

        // 프로필 메뉴 토글
        function toggleProfileMenu(event) {
            event?.stopPropagation();
            const menu = document.getElementById('profileMenu');
            if (!menu) return;
            menu.classList.toggle('hidden');
        }

        // 외부 클릭 시 프로필 메뉴 닫기
        document.addEventListener('click', (e) => {
            const menu = document.getElementById('profileMenu');
            if (!menu) return;
            const btn = document.querySelector('.profile-btn');
            if (menu.classList.contains('hidden')) return;
            if (btn && (btn === e.target || btn.contains(e.target))) return;
            if (!menu.contains(e.target)) menu.classList.add('hidden');
        });

        // 모달 관리 함수들
        function closeCandidateDetailModal() {
            document.getElementById('candidateDetailModal')?.classList.add('hidden');
        }

        function showTab(key) {
            const all = ['basic', 'resume', 'evaluation', 'history'];
            all.forEach(t => {
                document.getElementById(`${t}Tab`)?.classList.remove('active');
            });
            document.getElementById(`${key}Tab`)?.classList.add('active');
            
            document.querySelectorAll('.candidate-tab').forEach(btn => btn.classList.remove('active'));
            const idxMap = { basic: '기본 정보', resume: '이력서', evaluation: '평가', history: '진행 이력' };
            document.querySelectorAll('.candidate-tab').forEach(btn => {
                if (btn.textContent?.includes(idxMap[key])) btn.classList.add('active');
            });
        }

        function saveCandidateData() {
            if (!window.candidateManager || window.candidateManager.currentCandidateId == null) return;
            const id = window.candidateManager.currentCandidateId;
            const idx = window.candidateManager.candidates.findIndex(c => c.id === id);
            if (idx < 0) return;
            
            const getVal = (id) => document.getElementById(id)?.value ?? '';
            const c = window.candidateManager.candidates[idx];
            
            c.name = getVal('candidateName');
            c.email = getVal('candidateEmail');
            c.phone = getVal('candidatePhone');
            c.position = getVal('candidatePosition');
            c.experience = getVal('candidateExperience');
            c.status = document.getElementById('candidateStatus')?.value ?? c.status;
            c.coverLetter = getVal('candidateCoverLetter');
            c.careerHistory = getVal('candidateCareerHistory');
            c.education = getVal('candidateEducation');
            
            c.evaluations = {
                overall: Number(document.getElementById('overallScore')?.value ?? 0),
                technical: Number(document.getElementById('technicalScore')?.value ?? 0),
                communication: Number(document.getElementById('communicationScore')?.value ?? 0),
                problemSolving: Number(document.getElementById('problemSolvingScore')?.value ?? 0),
                teamwork: Number(document.getElementById('teamworkScore')?.value ?? 0),
                notes: document.getElementById('evaluationNotes')?.value ?? ''
            };
            c.score = c.evaluations.overall;
            
            // 이력 추가
            c.history.push({
                date: new Date().toISOString(),
                action: '정보 수정',
                description: '지원자 정보가 수정되었습니다.'
            });
            
            window.candidateManager.saveCandidates();
            window.candidateManager.renderCandidates();
            window.candidateManager.updateDashboardStats();
            window.candidateManager.loadRecentCandidates();
            showToast('저장되었습니다.', 'success');
            closeCandidateDetailModal();
        }

        // 새 지원자 등록 모달
        function openNewCandidateModal() {
            document.getElementById('newCandidateModal')?.classList.remove('hidden');
        }

        function closeNewCandidateModal() {
            document.getElementById('newCandidateModal')?.classList.add('hidden');
        }

        function handleNewCandidate(e) {
            e.preventDefault();
            if (!window.candidateManager) return;
            
            const form = e.target;
            const data = Object.fromEntries(new FormData(form).entries());
            window.candidateManager.addCandidate(data);
            closeNewCandidateModal();
            form.reset();
        }

        // 새 채용공고 등록 모달
        function openNewJobModal() {
            document.getElementById('newJobModal')?.classList.remove('hidden');
        }

        function closeNewJobModal() {
            document.getElementById('newJobModal')?.classList.add('hidden');
        }

        function handleNewJob(e) {
            e.preventDefault();
            if (!window.jobManager) return;
            
            const form = e.target;
            const data = Object.fromEntries(new FormData(form).entries());
            window.jobManager.addJob(data);
            closeNewJobModal();
            form.reset();
        }

        // 새 면접 일정 등록 모달
        function openNewInterviewModal() {
            document.getElementById('newInterviewModal')?.classList.remove('hidden');
            if (window.interviewManager) {
                window.interviewManager.loadCandidatesForInterview();
            }
        }

        function closeNewInterviewModal() {
            document.getElementById('newInterviewModal')?.classList.add('hidden');
        }

        function handleNewInterview(e) {
            e.preventDefault();
            if (!window.interviewManager) return;
            
            const form = e.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            
            // 지원자 이름 추가
            const candidateSelect = document.getElementById('interviewCandidateSelect');
            const candidateName = candidateSelect.options[candidateSelect.selectedIndex].text.split(' - ')[0];
            data.candidateName = candidateName;
            
            window.interviewManager.addInterview(data);
            closeNewInterviewModal();
            form.reset();
        }

        // CSV 업로드
        function triggerCSVUpload() {
            document.getElementById('csvFileInput')?.click();
        }

        function handleCSVUpload(event) {
            const file = event.target.files?.[0];
            if (!file) return;
            showToast('CSV/엑셀 업로드는 데모 모드입니다.', 'warning');
            event.target.value = '';
        }

        // 인증 관리
        function updateAuthUI(user) {
            document.querySelectorAll('.profile-name').forEach(el => el.textContent = user?.name || '게스트');
            document.querySelectorAll('.profile-role').forEach(el => el.textContent = user?.role || '');
        }

        function logout() {
            if (confirm('정말 로그아웃 하시겠습니까?')) {
                localStorage.removeItem('currentUser');
                sessionStorage.removeItem('currentUser');
                window.location.href = 'login.html';
            }
        }

        // 테마 토글 초기화
        function initTheme() {
            const saved = localStorage.getItem('theme');
            if (saved) document.body.setAttribute('data-theme', saved);
            
            const btn = document.getElementById('themeToggle');
            const setIcon = () => {
                if (btn) btn.textContent = (document.body.getAttribute('data-theme') === 'dark') ? '🌙' : '☀️';
            };
            
            if (btn) {
                setIcon();
                btn.addEventListener('click', () => {
                    const cur = document.body.getAttribute('data-theme') || 'light';
                    const next = cur === 'light' ? 'dark' : 'light';
                    document.body.setAttribute('data-theme', next);
                    localStorage.setItem('theme', next);
                    setIcon();
                });
            }
        }

        // 전역 변수 노출
        window.showPage = showPage;
        window.toggleProfileMenu = toggleProfileMenu;
        window.closeCandidateDetailModal = closeCandidateDetailModal;
        window.saveCandidateData = saveCandidateData;
        window.openNewCandidateModal = openNewCandidateModal;
        window.closeNewCandidateModal = closeNewCandidateModal;
        window.handleNewCandidate = handleNewCandidate;
        window.openNewJobModal = openNewJobModal;
        window.closeNewJobModal = closeNewJobModal;
        window.handleNewJob = handleNewJob;
        window.openNewInterviewModal = openNewInterviewModal;
        window.closeNewInterviewModal = closeNewInterviewModal;
        window.handleNewInterview = handleNewInterview;
        window.triggerCSVUpload = triggerCSVUpload;
        window.handleCSVUpload = handleCSVUpload;
        window.logout = logout;
        window.showTab = showTab;
        window.updateScoreDisplay = updateScoreDisplay;
        window.bulkUpdateStatus = bulkUpdateStatus;
        window.sendBulkEmail = sendBulkEmail;
        window.clearSelection = clearSelection;
        window.toggleSelectAll = toggleSelectAll;

        // 초기화
        document.addEventListener('DOMContentLoaded', () => {
            // 저장된 사용자 확인 (이전 키 호환)
            const legacy = localStorage.getItem('workflowUser') || sessionStorage.getItem('workflowUser');
            const savedUser = localStorage.getItem('currentUser') || sessionStorage.getItem('currentUser') || legacy;
            if (savedUser) {
                try {
                    const user = JSON.parse(savedUser);
                    updateAuthUI(user);
                } catch (e) {
                    console.error('Failed to parse user data:', e);
                    // 데모용 자동 로그인
                    const demoUser = { name: '김담당자', role: 'HR 매니저', email: 'test@example.com' };
                    localStorage.setItem('currentUser', JSON.stringify(demoUser));
                    updateAuthUI(demoUser);
                }
            } else {
                // 로그인 필요시 로그인 페이지로 이동
                try { window.location.href = 'login.html'; } catch (_) {}
            }

            // 매니저 초기화
            window.candidateManager = new CandidateManager();
            window.jobManager = new JobManager();
            window.interviewManager = new InterviewManager();

            // 테마 초기화
            initTheme();

            // 기본 페이지 설정
            const initial = (window.location.hash || '#dashboard').replace('#', '') || 'dashboard';
            showPage(initial);

            // 네비게이션 클릭 바인딩
            document.addEventListener('click', (e) => {
                const pageEl = e.target.closest('.nav-item, .sidebar-link, .quick-action-btn[data-page]');
                if (!pageEl) return;
                
                const page = pageEl.getAttribute('data-page');
                if (!page) return;
                
                e.preventDefault();
                showPage(page);
            });

            console.log('워크플로우 시스템이 초기화되었습니다.');
        });
    </script>
<!-- 잘못 삽입된 잔여 마크업 제거 완료 -->
</body>
</html>